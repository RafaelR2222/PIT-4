<script src="/js/checkin/listar.js"></script>
<script src="/js/checkin/alterar.js"></script>

<script src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>

<div>
    <h1>Check-in cadastrados</h1>

    <div>
        <a class="btn btn-primary" id="btnCadastrarFornecedores" href="/checkin/cadastrar">Cadastrar Check-in</a>
        <button onclick="window.print()" class="btn btn-primary btnExportarPdf">Exportar para PDF</button>
        <button id="btnExportarExcel" class="btn btn-primary btnExportarExcel">Exportar para Excel</button>
    </div>
    <div id="divTable" style="max-width: 300%; width: auto; overflow-x: scroll;">
    <table style="margin-top:10px" class="table table-stripped" id="tabelaFornecedores">
        <thead style="width: 10%;">
            <th>Id do check-in</th>
            <th>Nome </th>
            <th>Email</th>
            <th>Id quarto</th>
            <th>Nome do Quarto</th>
            <th>Data check-in realizado</th>
            <th>Data check-out realizado</th>
            <th>Data check-in esperado</th>
            <th>Data check-out esperado</th>
            <th>Data reserva efetuada</th>
            <th>Id reserva efetuada</th>
            <th>Número de adultos</th>
            <th>Número de crianças</th>
            <th>Ids serviços cadastrados</th>
            <th>Nomes serviços cadastrados</th>
            <th>Total</th>
            <th class="actions">Ações</th>
        </thead>
        <tbody>
            <% for(let i=0; i<lista.length; i++) { %>
                <tr>
                    <td><%= lista[i].cinId %></td>
                    <td><%= lista[i].cinNomePessoa %></td>
                    <td><%= lista[i].cinEmail %></td>
                    <td><%= lista[i].cinQuartoId %></td>
                    <td><%= lista[i].cinNomeQuarto %></td>
                    <td><%= lista[i].cinData %></td>
                    <td><%= lista[i].cinCoutData %></td>
                    <td><%= lista[i].cinCinDataEsperada %></td>
                    <td><%= lista[i].cinCoutDataEsperada %></td>
                    <td><%= lista[i].cinDataReserva %></td>
                    <td><%= lista[i].cinIdReserva %></td>
                    <td><%= lista[i].cinNumAdultos %></td>
                    <td><%= lista[i].cinNumCriancas %></td>
                    <td><%= lista[i].cinIdServContratados %></td>
                    <td><%= lista[i].cinNomeServContratados %></td>
                    <td><%= lista[i].cinValorServs %></td>

                    <td class="actions">
                        <div>
                            <button data-id="<%= lista[i].cinId %>" class="btnCheckOut" id="btnCheckOut" style="width: 2.7rem;margin-bottom: .5rem; background-color: #ffd817; border: none;
                                border-radius: 4px;
                                padding-top: 8px;
                                padding-bottom: 8px;
                                padding-left: 15px;
                                padding-right: 15px;">
                                <i class="fas fa-door-open"></i>
                            </button>
                            <button data-id="<%= lista[i].cinId %>" class="btn btn-primary btnAlteracao" style="width: 2.7rem;margin-bottom: .5rem;">
                                <i class="fas fa-pen"></i>
                            </button>
                            <button data-id="<%= lista[i].cinId %>" class="btn btn-danger btnExclusao">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>
</div>